<!DOCTYPE html>
<html ng-app="KineticGraphs">
<head lang="en">
    <meta charset="UTF-8">
    <title>Price Elasticity (Midpoint Method)</title>
    <link rel="stylesheet" href="bower_components/bootswatch-dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="bower_components/katex/build/katex.min.css">
    <!--<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.js"></script>-->
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="bower_components/jquery-color/jquery.color.js"></script>
    <script type="text/javascript" src="lib/color_mixer.js"></script>
    <script type="text/javascript" src="bower_components/angular/angular.js"></script>
    <script type="text/javascript" src="bower_components/d3/d3.min.js"></script>
    <script type="text/javascript" src="bower_components/numericjs/src/numeric.js"></script>
    <script type="text/javascript" src="bower_components/katex/build/katex/katex.min.js"></script>
    <script type="text/javascript" src="bower_components/underscore/underscore-min.js"></script>
</head>
<body>
<div ng-controller="KineticGraphCtrl">
    <h1>Price Elasticity (Midpoint Method)</h1>
    <p>Drag points A and B to see how the elasticity changes. (Point M is the midpoint between A and B.)</p>
    <hr/>
    <div class="row">
        <div class="col-md-6">
            <div id="graph"></div>
        </div>
        <div class="col-md-6 big">
            <p class="math displayMath">\% \Delta Q = \frac{ Q_B - Q_A }{ Q_M } = \frac{ {{params.x1 }} - {{params.x2}} }{ {{model.xAvg }} } = {{model.xPercentDiff | percentage:0 }}</p>
            <hr/>
            <p class="math displayMath">\% \Delta P = \frac{ P_B - P_A }{ P_M } = \frac{ {{params.y1 }} - {{params.y2}} }{ {{model.yAvg }} } = {{model.yPercentDiff | percentage:0 }}</p>
            <hr/>
            <p class="math displayMath">\epsilon_{Q,P} = \frac{\% \Delta Q}{\% \Delta P} = \frac{ {{model.xPercentDiff | percentage:0 }} } { {{model.yPercentDiff | percentage:0 }} } = {{ model.elasticityNumber() }}</p>
            <hr/>
            <p class="math displayMath">\left| \epsilon_{Q,P} \right| = {{ model.elasticityComparator}} \Rightarrow \text{ {{ model.elasticityWord }}}</p>
        </div>
    </div>
</div>
<script>
    var scopeDefinition = {
        params: {
            x1: 40,
            y1: 20,
            x2: 30,
            y2: 30
        },
        restrictions: [
            {
                expression: 'params.x1',
                restrictionType: 'range',
                max: 100,
                min: 20,
                precision: 2
            },
            {
                expression: 'params.y1',
                restrictionType: 'range',
                max: 100,
                min: 10,
                precision: 2
            },
            {
                expression: 'params.x2',
                restrictionType: 'range',
                max: 100,
                min: 20,
                precision: 2
            },
            {
                expression: 'params.y2',
                restrictionType: 'range',
                max: 100,
                min: 10,
                precision: 2
            }
        ],
        model: {
            type: 'EconGraphs.MidpointElasticity',
            definition: {
                point1: {
                    x: 'params.x1',
                    y: 'params.y1'
                },
                point2: {
                    x: 'params.x2',
                    y: 'params.y2'
                }
            }

        },
        views: [
            {
                type: 'KG.Graph',
                definition: {
                    element_id:'graph',
                    dimensions: {width: 600, height: 600},
                    xAxis: {min: 0, max: 100, title: 'Quantity (Q)'},
                    yAxis: {min: 0, max: 100, title: 'Price (P)'},
                    objects: ['model.point1view','model.point2view','model.midpoint','model.xDiffSegment','model.yDiffSegment']
                }
            }
        ]
    }
</script>
<script src="dist/kinetic-graphs.js"></script>
</body>
</html>