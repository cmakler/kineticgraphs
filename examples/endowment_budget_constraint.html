<!DOCTYPE html>
<html ng-app="KineticGraphs">
<head lang="en">
    <meta charset="UTF-8">
    <title>Utility and Redistribution</title>
    <link rel="stylesheet" href="../bower_components/bootswatch-dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../dist/econ-graphs.css">
    <link rel="stylesheet" href="../bower_components/katex/dist/katex.min.css">
    <script type="text/javascript" src="../bower_components/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="../bower_components/angular/angular.js"></script>
    <script type="text/javascript" src="../bower_components/d3/d3.min.js"></script>
    <script type="text/javascript" src="../bower_components/numericjs/src/numeric.js"></script>
    <script type="text/javascript" src="../bower_components/katex/dist/katex.min.js"></script>
    <script type="text/javascript" src="../bower_components/underscore/underscore-min.js"></script>
</head>
<body>
<div ng-controller="KineticGraphCtrl">
    <h1>Endowment Budget Constraint</h1>
    <hr/>
    <div class="row">
        <div class="col-md-8">
            <div id="budget"></div>
        </div>
        <div class="col-md-4">
            <div class="well">
                <div>Prices to buy</div>
                <div class="row">
                    <div class="col-xs-3 math" style="text-align:right;font-size:12pt;padding-top:10px">P_x^B = {{ params.pxBuy | number: 2 }}:
                    </div>
                    <div class="col-xs-9" id="pxBuySlider"></div>
                </div>
                <div class="row">
                    <div class="col-xs-3 math" style="text-align:right;font-size:12pt;padding-top:10px">P_y^B = {{ params.pyBuy | number: 2 }}:
                    </div>
                    <div class="col-xs-9" id="pyBuySlider"></div>
                </div>
                <hr/>
                <div>Prices to sell</div>
                <div class="row">
                    <div class="col-xs-3 math" style="text-align:right;font-size:12pt;padding-top:10px">P_x^{S} = {{ params.pxSell | number: 2}}:
                    </div>
                    <div class="col-xs-9" id="pxSellSlider"></div>
                </div>
                <div class="row">
                    <div class="col-xs-3 math" style="text-align:right;font-size:12pt;padding-top:10px">P_y^{S} = {{ params.pySell | number: 2}}:
                    </div>
                    <div class="col-xs-9" id="pySellSlider"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var scopeDefinition = {
        params: {
            x: 10,
            y: 10,
            pxBuy: 3,
            pyBuy: 4,
            pxSell: 5,
            pySell: 4
        },
        graphParams: [],
        restrictions: [
            {
                expression: 'params.x',
                restrictionType: 'range',
                max: 50,
                min: 0,
                precision: 1
            },
            {
                expression: 'params.y',
                restrictionType: 'range',
                max: 50,
                min: 0,
                precision: 1
            }
        ],
        model: {
            type: 'EconGraphs.EndowmentBudgetConstraint',
            definition: {
                endowment: {x: 'params.x', y: 'params.y'},
                pxBuy: 'params.pxBuy',
                pxSell: 'params.pxSell',
                pyBuy: 'params.pyBuy',
                pySell: 'params.pySell',
                budgetConstraintLabel: 'BL',
                budgetSetLabel: "\\text{Budget Set}",
                xInterceptLabel: 'model.maxX',
                yInterceptLabel: 'model.maxY',
                xLabel: 'params.x | number: 0',
                yLabel: 'params.y | number: 0'
            }
        },
        views: [
            {
                type: 'KG.Graph',
                definition: {
                    element_id: 'budget',
                    xAxisDef: {min: 0, max: 50, title: '\\text{Units of Good X}'},
                    yAxisDef: {min: 0, max: 50, title: '\\text{Units of Good Y}'},
                    objects: [
                        'model.budgetLine', "model.endowmentPoint"
                    ]
                }
            },
            {
                type: 'KG.Slider',
                definition: {
                    element_id: 'pxBuySlider',
                    param: 'pxBuy',
                    precision: '0.25',
                    axisDef: {min: 0, max: 10}
                }
            },
            {
                type: 'KG.Slider',
                definition: {
                    element_id: 'pyBuySlider',
                    param: 'pyBuy',
                    precision: '0.25',
                    axisDef: {min: 0, max: 10}
                }
            },
            {
                type: 'KG.Slider',
                definition: {
                    element_id: 'pxSellSlider',
                    param: 'pxSell',
                    precision: '0.25',
                    axisDef: {min: 0, max: 10}
                }
            },
            {
                type: 'KG.Slider',
                definition: {
                    element_id: 'pySellSlider',
                    param: 'pySell',
                    precision: '0.25',
                    axisDef: {min: 0, max: 10}
                }
            }

        ]
    }
</script>
<script src="../dist/kinetic-graphs.js"></script>
</body>
</html>