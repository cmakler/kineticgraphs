<!DOCTYPE html>
<html ng-app="KineticGraphs">
<head lang="en">
    <meta charset="UTF-8">
    <title>Utility and Marginal Utility</title>
    <link rel="stylesheet" href="../bower_components/bootswatch-dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../dist/econ-graphs.css">
    <link rel="stylesheet" href="../bower_components/katex/dist/katex.min.css">
    <script type="text/javascript" src="../bower_components/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="../bower_components/jquery-color/jquery.color.js"></script>
    <script type="text/javascript" src="../lib/color_mixer.js"></script>
    <script type="text/javascript" src="../bower_components/angular/angular.js"></script>
    <script type="text/javascript" src="../bower_components/d3/d3.min.js"></script>
    <script type="text/javascript" src="../bower_components/numericjs/src/numeric.js"></script>
    <script type="text/javascript" src="../bower_components/katex/dist/katex.min.js"></script>
    <script type="text/javascript" src="../bower_components/underscore/underscore-min.js"></script>
</head>
<body>
<div ng-controller="KineticGraphCtrl">
    <h1>Utility and Marginal Utility</h1>
    <hr/>
    <div class="row">
        <div class="col-md-8">
            <div id="utility"></div>
        </div>
        <div class="col-md-4">
            <div class="well">
                <div class="row">
                    <div class="col-xs-1 math" style="text-align:right;font-size:12pt;padding-top:10px">\rho :
                    </div>
                    <div class="col-xs-9" id="rraSlider"></div>
                    <div class="col-xs-2 math" style="font-size:12pt;padding-top:12px">{{ (1/params.rra) | extendedReal:2
                        }}
                    </div>
                </div>
            </div>
            <hr>
            <equation class="big">u(c) = \frac{c^{1 - \rho} - 1}{1 - \rho} || = {{ model.utilityFormula()}}</equation>
            <hr/>
            <equation class="big">u(c_A) = {{ model.utilityFormula(params.c)}} || = {{ model.utilityAtQuantity(params.c) | number: 2}}</equation>
        </div>
    </div>
</div>
<script>
    var scopeDefinition = {
        params: {
            rra: 0.5,
            c: 5
        },
        graphParams: ['rra'],
        restrictions: [
            {
                expression: 'params.c',
                restrictionType: 'range',
                min: 1,
                max: 10
            }
        ],
        model: {
            type: 'EconGraphs.ConstantRRA',
            definition: {
                rra: 'params.rra'
            }

        },
        views: [
            {
                type: 'KG.TwoVerticalGraphs',
                definition: {
                    element_id: 'utility',
                    xAxisDef: {min: 0, max: 10, title: '\\text{Consumption (units)}'},
                    topGraph: {
                        yAxisDef: {min: 0, max: 'model.utilityAtQuantity(10)', title: '\\text{Total Utility (utils)}'},
                        objects: ['model.utilityFunctionView','model.marginalUtilityAtQuantitySlope(params.c, "A")']
                    },
                    bottomGraph: {
                        yAxisDef: {min: 0, max: 1, title: '\\text{Marginal Utility (utils/unit)}'},
                        objects: ['model.marginalUtilityFunctionView','model.marginalUtilityAtQuantityPoint(params.c, "A","params.c")']
                    },
                    objects: ['model.utilityAtQuantityPoint(params.c, "A","params.c")']
                }
            },
            {
                type: 'KG.Slider',
                definition: {
                    element_id: 'rraSlider',
                    param: 'rra',
                    precision: '0.01',
                    axisDef: {min: 0, max: 2, tickValues: [0, 1, 2]}
                }
            }

        ]
    }
</script>
<script src="../dist/kinetic-graphs.js"></script>
</body>
</html>